# Unity 2D Game TIL

## 📅 날짜
2025-08-18

## 🔖 주제
Unity 2D 기초 학습: 플레이어 이동, 점프, 카메라 따라가기, 배경, 장애물 구현

---

## 1️⃣ 프로젝트 설정
- Unity 2022 LTS 설치 후 **2D 템플릿**으로 프로젝트 생성
- Scene: `SampleScene`
- Assets 폴더 안에 모든 이미지/스크립트 관리
- **문제 해결 팁**:
  - Unity 실행 도중 강제 종료되면 `Library` 폴더 삭제 후 재생성
  - Apply 버튼 비활성화: 이미지 PNG/JPG 확인, Unity 재시작

---

## 2️⃣ 플레이어 만들기
- **오브젝트**: Player (Sprite + Rigidbody2D + BoxCollider2D)
- **PlayerMove 스크립트**: 좌우 이동 + 점프

```csharp
using UnityEngine;

public class PlayerMove : MonoBehaviour
{
    public float moveSpeed = 5f;
    public float jumpForce = 7f;
    private Rigidbody2D rb;
    private bool isGrounded;

    void Start()
    {
        rb = GetComponent<Rigidbody2D>();
    }

    void Update()
    {
        float move = Input.GetAxis("Horizontal");
        rb.velocity = new Vector2(move * moveSpeed, rb.velocity.y);

        if(Input.GetKeyDown(KeyCode.Space) && isGrounded)
        {
            rb.velocity = new Vector2(rb.velocity.x, jumpForce);
            isGrounded = false;
        }
    }

    void OnCollisionEnter2D(Collision2D collision)
    {
        if(collision.gameObject.CompareTag("Ground"))
        {
            isGrounded = true;
        }
    }
}
```

* 점프 높이 조절: jumpForce 값 변경
* Gravity Scale 값에 따라 점프 높이 영향을 받음

## 3️⃣ 카메라 따라가기

- CameraFollow 스크립트: 플레이어를 따라감, Offset 조절 가능
```csharp
using UnityEngine;

public class CameraFollow : MonoBehaviour
{
    public Transform player;
    public Vector3 offset = new Vector3(0, 0, -10);
    public float smoothSpeed = 0.125f;

    void LateUpdate()
    {
        Vector3 desiredPosition = player.position + offset;
        Vector3 smoothedPosition = Vector3.Lerp(transform.position, desiredPosition, smoothSpeed);
        transform.position = smoothedPosition;
    }
}
```

- Offset 예시:

 * 중앙: (0,0,-10)
 * 위쪽: (0,2,-10)
 * 왼쪽 치우침: (-3,0,-10)

## 4️⃣ 배경 이미지

- **이미지 가져오기**: PNG/JPG → Assets 폴더
- **Sprite 설정**: Texture Type → Sprite (2D and UI), Sprite Mode → Single → Apply
- **Scene 배치**:
  - Sprite Renderer 추가 → 이미지 할당
  - Transform Position: X=0, Y=0, Z=10 (카메라 Z=-10보다 뒤)
  - Scale 조절 → 화면 전체 덮기
- **연속 배경 만들기**:
  - Duplicate → X 값 = 이전 배경 Width
  - 자동 배치 스크립트 가능

## 5️⃣ 장애물 / 투명 바닥

- **Collider**: BoxCollider2D
- **Tag**: Ground (플레이어 점프 가능하게 체크)
- Sprite Renderer 비활성화 or Alpha 0 → 보이지 않지만 충돌 가능
- 장애물 위 점프: Ground 태그를 붙이거나 스크립트 충돌 체크 확장

## 6️⃣ 나왔던 오류 해결

- Apply 버튼 안 눌릴 때: 이미지 포맷 확인, Unity 재시작
- 2D Object → Sprite 메뉴 안 보일 때:
  - 2D 템플릿 프로젝트 확인
  - Empty Object + Sprite Renderer로 대체
- Scene 뷰에서 위치 확인 → 배경/플레이어/장애물 배치

## 만든 게임 화면
<img width="1266" height="992" alt="image" src="https://github.com/user-attachments/assets/5b86189a-2ac1-4f39-be84-bb5231249f8f" />

- **흰색 사각형** : Player
- **빨간색 사각형** : Obsticle
- 방향키로 좌우 이동과 스페이스바로 점프 구현
- 배경 구현

## 🔗 참고

- Unity Manual: [2D Game Objects](https://docs.unity3d.com/Manual/2DGameObjects.html)
- Rigidbody2D: [Unity Rigidbody2D](https://docs.unity3d.com/ScriptReference/Rigidbody2D.html)
- Collider2D: [Unity Collider2D](https://docs.unity3d.com/ScriptReference/Collider2D.html)
